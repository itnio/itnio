import{p as e,q as t,c as o,w as l,i as d,o as s,a as n,b as r,d as a,r as i,F as u,I as c,t as p,f as h}from"./index-5BywQYfU.js";import{_ as w}from"./_plugin-vue_export-helper.BCo6x5W8.js";const y=w({data:()=>({keyword1:"",keyword2:"",records:[],base_url:"http://108.181.165.80:8000/"}),methods:{findContent(){let t=`${this.base_url}recordnull/`;this.keyword1&&this.keyword2?t=`${this.base_url}records/${this.keyword1}&${this.keyword2}`:this.keyword1?t=`${this.base_url}record/${this.keyword1}`:this.keyword2&&(t=`${this.base_url}record/${this.keyword2}`),e({url:t,success:e=>{console.log(e.data),this.records=e.data},fail:e=>{console.error(e)}})},openAddContentWindow(){t({url:"/pages/addcontent/addcontent"})},openUpdateContentWindow(e){t({url:`/pages/updatecontent/updatecontent?id=${e}`})},deleteContent(e){},highlightKeywords(e){let t=e;return this.keyword1&&(t=t.replace(new RegExp(this.keyword1,"g"),`<span style="background-color: #F6EE96;">${this.keyword1}</span>`)),this.keyword2&&(t=t.replace(new RegExp(this.keyword2,"g"),`<span style="background-color: #CFF696;">${this.keyword2}</span>`)),t=t.replace(/\n/g,"<br/>"),t}},mounted(){this.findContent()}},[["render",function(e,t,w,y,k,f){const _=c,C=d,g=h;return s(),o(C,null,{default:l((()=>[n(C,{class:"form"},{default:l((()=>[n(_,{modelValue:k.keyword1,"onUpdate:modelValue":t[0]||(t[0]=e=>k.keyword1=e),placeholder:"关键词1",class:"input_style"},null,8,["modelValue"]),n(_,{modelValue:k.keyword2,"onUpdate:modelValue":t[1]||(t[1]=e=>k.keyword2=e),placeholder:"关键词2",class:"input_style"},null,8,["modelValue"]),n(C,{onClick:f.findContent,class:"findContentButton"},{default:l((()=>[r("查找")])),_:1},8,["onClick"])])),_:1}),(s(!0),a(u,null,i(k.records,(e=>(s(),o(C,{key:e.id,class:"recordview"},{default:l((()=>[n(C,null,{default:l((()=>[n(g,null,{default:l((()=>[r("Time: "+p(e.time),1)])),_:2},1024),n(C,{innerHTML:f.highlightKeywords(e.content),style:{"user-select":"text"}},null,8,["innerHTML"]),n(C,{style:{display:"flex","flex-direction":"row"}},{default:l((()=>[n(C,{onClick:t=>f.openUpdateContentWindow(e.id),class:"updateButton"},{default:l((()=>[r("修改")])),_:2},1032,["onClick"]),n(C,{onClick:t=>f.deleteContent(e.id),class:"deleteButton"},{default:l((()=>[r("删除")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})}],["__scopeId","data-v-ca6c14ce"]]);export{y as default};
